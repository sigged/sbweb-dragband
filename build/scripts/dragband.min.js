"use strict";
/**
 * Creates a draggable band from a list of items
 * @copyright S. Derdeyn 2018
 * @license MIT
 */var dragBand={init:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,r=t,i=n,c=o,s=!1,f=null,a=z(r.children[0],r).x,d=0,u=0,v=0,h=(setInterval(function(){var t=Y(r).x;v=10*(t-u),u=t},100),r.children.length),m=y(),L=r.parentElement.offsetLeft,g=r.parentElement.offsetWidth-m,p=e;function E(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];p=t,e&&x(N(t)),function(t){for(var e=0;e<h;e++)r.children[e].classList.toggle("selected",e==t)}(p)}function y(){for(var t=0,e=0;e<h;e++)t+=r.children[e].offsetWidth;return r.style.width="".concat(t,"px"),t}function x(t){a=Math.min(L,Math.max(g,t)),r.style.left="".concat(a,"px"),r.classList.toggle("smooth",!(s=!1)),T(a)}function T(t){i&&(i.style.opacity=b(t)?"1":"0",i.style.pointerEvents=b(t)?"all":"none"),c&&(c.style.opacity=M(t)?"1":"0",c.style.pointerEvents=M(t)?"all":"none")}function b(t){return!(L-20<t)}function M(t){return!(t<g+20)}function w(t){return t.changedTouches?t.changedTouches[0]:t}function W(t){s||(t.type,f=w(t).clientX,r.classList.toggle("smooth",!(s=!0)))}function k(t){if(t.type,s){var e=w(t).clientX-f,n=(Math.sign(e),a+(d=e));x(a=n+.125*v),f=null}}function B(t){if(s){var e=Math.round(w(t).clientX-f),n=a+e,o=L+l,i=g-l;n<=o&&i<n&&(r.style.left="".concat(n,"px"),T(n))}}E(p),document.body.addEventListener("mousemove",B,!1),document.body.addEventListener("touchmove",B,!1),r.addEventListener("mousedown",W,!1),r.addEventListener("touchstart",W,!1),document.body.addEventListener("mouseup",k,!1),document.body.addEventListener("touchend",k,!1),window.addEventListener("resize",function(t){m=y(),L=r.parentElement.offsetLeft,g=r.parentElement.offsetWidth-m,x(N(p))},!1),r.addEventListener("blur",function(t){console.log("blur")},!1),r.addEventListener("wheel",function(t){x(a-50*Math.sign(t.deltaY))},!1);for(var X=function(e){I=r.children[e].getElementsByTagName("*");for(var t=0;t<I.length;t++)I[t].addEventListener("click",function(t){if(50<=Math.abs(d))return t.preventDefault(),!1;E(e,!0),this.blur()},!0)},D=0;D<h;D++){var I;X(D)}function N(t){var e=r.children[t],n=z(e,r).x;return-n+e.offsetWidth/2}function Y(t){for(var e=0,n=0;t;){if("BODY"==t.tagName){var o=t.scrollLeft||document.documentElement.scrollLeft,i=t.scrollTop||document.documentElement.scrollTop;e+=t.offsetLeft-o+t.clientLeft,n+=t.offsetTop-i+t.clientTop}else e+=t.offsetLeft-t.scrollLeft+t.clientLeft,n+=t.offsetTop-t.scrollTop+t.clientTop;t=t.offsetParent}return{x:e,y:n}}function z(t,e){var n=Y(e),o=Y(t);return{x:o.x-n.x,y:o.y-n.y}}return i&&i.addEventListener("click",function(t){b(a)&&x(a+50)},!0),c&&c.addEventListener("click",function(t){b(a)&&x(a-50)},!0),{selectItem:E}}};