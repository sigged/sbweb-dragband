"use strict";
/**
 * Creates a draggable band from a list of items
 * @copyright S. Derdeyn 2018
 * @license MIT
 */var dragBand={init:function(t,e,n){var c=t,o=(n=n||{}).leftScroller,r=n.rightscroller,l=n.scrollstep||50,i=e||0,s=n.elasticWidth||100,f=n.hideScrollerMargin||20,a=!1,d=null,u=O(c.children[0],c).x,h=0,v=0,m=0,L=(setInterval(function(){var t=z(c).x;m=10*(t-v),v=t},100),c.children.length),p=T(),E=c.parentElement.offsetLeft,g=c.parentElement.offsetWidth-p,y=i;function x(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];y=t,e&&b(Y(t)),function(t){for(var e=0;e<L;e++)c.children[e].classList.toggle("selected",e==t)}(y)}function T(){for(var t=0,e=0;e<L;e++)t+=c.children[e].offsetWidth;return c.style.width="".concat(t,"px"),t}function b(t){u=Math.min(E,Math.max(g,t)),c.style.left="".concat(u,"px"),c.classList.toggle("smooth",!(a=!1)),M(u)}function M(t){o&&(o.style.opacity=w(t)?"1":"0",o.style.pointerEvents=w(t)?"all":"none"),r&&(r.style.opacity=W(t)?"1":"0",r.style.pointerEvents=W(t)?"all":"none")}function w(t){return!(E-f<t)}function W(t){return!(t<g+f)}function k(t){return t.changedTouches?t.changedTouches[0]:t}function B(t){a||(t.type,d=k(t).clientX,c.classList.toggle("smooth",!(a=!0)))}function X(t){if(t.type,a){var e=k(t).clientX-d,n=(Math.sign(e),u+(h=e));b(u=n+.125*m),d=null}}function D(t){if(a){var e=Math.round(k(t).clientX-d),n=u+e,o=E+s,r=g-s;n<=o&&r<n&&(c.style.left="".concat(n,"px"),M(n))}}x(y),document.body.addEventListener("mousemove",D,!1),document.body.addEventListener("touchmove",D,!1),c.addEventListener("mousedown",B,!1),c.addEventListener("touchstart",B,!1),document.body.addEventListener("mouseup",X,!1),document.body.addEventListener("touchend",X,!1),window.addEventListener("resize",function(t){p=T(),E=c.parentElement.offsetLeft,g=c.parentElement.offsetWidth-p,b(Y(y))},!1),c.addEventListener("blur",function(t){console.log("blur")},!1),c.addEventListener("wheel",function(t){b(u-Math.sign(t.deltaY)*l)},!1);for(var I=function(e){S=c.children[e].getElementsByTagName("*");for(var t=0;t<S.length;t++)S[t].addEventListener("click",function(t){if(50<=Math.abs(h))return t.preventDefault(),!1;x(e,!0),this.blur()},!0)},N=0;N<L;N++){var S;I(N)}function Y(t){var e=c.children[t],n=O(e,c).x;return-n+e.offsetWidth/2}function z(t){for(var e=0,n=0;t;){if("BODY"==t.tagName){var o=t.scrollLeft||document.documentElement.scrollLeft,r=t.scrollTop||document.documentElement.scrollTop;e+=t.offsetLeft-o+t.clientLeft,n+=t.offsetTop-r+t.clientTop}else e+=t.offsetLeft-t.scrollLeft+t.clientLeft,n+=t.offsetTop-t.scrollTop+t.clientTop;t=t.offsetParent}return{x:e,y:n}}function O(t,e){var n=z(e),o=z(t);return{x:o.x-n.x,y:o.y-n.y}}return o&&o.addEventListener("click",function(t){w(u)&&b(u+l)},!0),r&&r.addEventListener("click",function(t){w(u)&&b(u-l)},!0),{selectItem:x}}};