"use strict";
/**
 * Creates a draggable band from a list of items
 * @copyright S. Derdeyn 2018
 * @license MIT
 */var dragBand={init:function(t,e,n){var l=t,o=(n=n||{}).leftScroller,r=n.rightscroller,c=n.scrollstep||50,i=e||0,s=n.elasticWidth||100,f=n.scrollerVisibleMargin||20,a=!1,d=null,u=P(l.children[0],l).x,v=0,h=0,m=0,L=(setInterval(function(){var t=O(l).x;m=10*(t-h),h=t},100),l.children.length),p=T(),E=l.parentElement.offsetLeft,g=l.parentElement.offsetWidth-p,y=i;function x(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];y=t,e&&b(z(t)),function(t){for(var e=0;e<L;e++)l.children[e].classList.toggle("selected",e==t)}(y)}function T(){for(var t=0,e=0;e<L;e++)t+=l.children[e].offsetWidth;return l.style.width="".concat(t,"px"),t}function b(t){u=Math.min(E,Math.max(g,t)),l.style.left="".concat(u,"px"),l.classList.toggle("smooth",!(a=!1)),M(u)}function M(t){o&&(o.style.opacity=w(t)?"1":"0",o.style.pointerEvents=w(t)?"all":"none"),r&&(r.style.opacity=W(t)?"1":"0",r.style.pointerEvents=W(t)?"all":"none")}function w(t){return!(E-f<t)}function W(t){return!(t<g+f)}function k(t){return t.changedTouches?t.changedTouches[0]:t}function B(t){a||(t.type,d=k(t).clientX,l.classList.toggle("smooth",!(a=!0)))}function X(t){if(t.type,a){var e=k(t).clientX-d,n=(Math.sign(e),u+(v=e));b(u=n+.125*m),d=null}}function D(t){if(a){var e=Math.round(k(t).clientX-d),n=u+e,o=E+s,r=g-s;n<=o&&r<n&&(l.style.left="".concat(n,"px"),M(n))}}x(y),document.body.addEventListener("mousemove",D,!1),document.body.addEventListener("touchmove",D,!1),l.addEventListener("mousedown",B,!1),l.addEventListener("touchstart",B,!1),document.body.addEventListener("mouseup",X,!1),document.body.addEventListener("touchend",X,!1),window.addEventListener("resize",function(t){p=T(),E=l.parentElement.offsetLeft,g=l.parentElement.offsetWidth-p,b(z(y))},!1),l.addEventListener("blur",function(t){console.log("blur")},!1),l.addEventListener("wheel",function(t){b(u-Math.sign(t.deltaY)*c)},!1);for(var I=function(e){Y=l.children[e].getElementsByTagName("*");for(var t=0;t<Y.length;t++)Y[t].addEventListener("click",function(t){if(50<=Math.abs(v))return t.preventDefault(),!1;x(e,!0),this.blur()},!0)},N=0;N<L;N++){var Y;I(N)}function z(t){var e=l.children[t],n=P(e,l).x;return-n+e.offsetWidth/2}function O(t){for(var e=0,n=0;t;){if("BODY"==t.tagName){var o=t.scrollLeft||document.documentElement.scrollLeft,r=t.scrollTop||document.documentElement.scrollTop;e+=t.offsetLeft-o+t.clientLeft,n+=t.offsetTop-r+t.clientTop}else e+=t.offsetLeft-t.scrollLeft+t.clientLeft,n+=t.offsetTop-t.scrollTop+t.clientTop;t=t.offsetParent}return{x:e,y:n}}function P(t,e){var n=O(e),o=O(t);return{x:o.x-n.x,y:o.y-n.y}}return o&&o.addEventListener("click",function(t){w(u)&&b(u+c)},!0),r&&r.addEventListener("click",function(t){w(u)&&b(u-c)},!0),{selectItem:x}}};