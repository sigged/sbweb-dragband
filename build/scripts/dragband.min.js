"use strict";
/**
 * Creates a draggable band from a list of items
 * @copyright S. Derdeyn 2018
 * @license MIT
 */var dragBand={init:function(e,t,n){var l=e,o=(n=n||{}).leftScroller,r=n.rightscroller,c=n.scrollstep||50,i=t||null,s=n.elasticWidth||100,f=n.hideScrollerMargin||20,a=!1,d=null,u=O(l.children[0],l).x,v=0,h=0,m=0,p=(setInterval(function(){var e=z(l).x;m=10*(e-h),h=e},100),l.children.length),L=T(),E=l.parentElement.offsetLeft,g=l.parentElement.offsetWidth-L,y=i;function x(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];y=e,t&&b(Y(e)),function(e){for(var t=0;t<p;t++)l.children[t].classList.toggle("selected",t==e)}(y)}function T(){for(var e=0,t=0;t<p;t++)e+=l.children[t].offsetWidth;return l.style.width="".concat(e,"px"),e}function b(e){u=Math.min(E,Math.max(g,e)),l.style.left="".concat(u,"px"),l.classList.toggle("smooth",!(a=!1)),M(u)}function M(e){o&&(o.style.opacity=w(e)?"1":"0",o.style.pointerEvents=w(e)?"all":"none"),r&&(r.style.opacity=W(e)?"1":"0",r.style.pointerEvents=W(e)?"all":"none")}function w(e){return!(E-f<e)}function W(e){return!(e<g+f)}function k(e){return e.changedTouches?e.changedTouches[0]:e}function B(e){a||(e.type,d=k(e).clientX,l.classList.toggle("smooth",!(a=!0)))}function D(e){if(e.type,a){var t=k(e).clientX-d,n=(Math.sign(t),u+(v=t));b(u=n+.125*m),d=null}}function X(e){if(a){var t=Math.round(k(e).clientX-d),n=u+t,o=E+s,r=g-s;n<=o&&r<n&&(l.style.left="".concat(n,"px"),M(n))}}x(y),document.body.addEventListener("mousemove",X,!1),document.body.addEventListener("touchmove",X,!1),l.addEventListener("mousedown",B,!1),l.addEventListener("touchstart",B,!1),document.body.addEventListener("mouseup",D,!1),document.body.addEventListener("touchend",D,!1),window.addEventListener("resize",function(e){L=T(),E=l.parentElement.offsetLeft,g=l.parentElement.offsetWidth-L,b(Y(y))},!1),l.addEventListener("blur",function(e){console.log("blur")},!1),l.addEventListener("wheel",function(e){b(u-Math.sign(e.deltaY)*c),e.preventDefault()},!1);for(var I=function(t){S=l.children[t].getElementsByTagName("*");for(var e=0;e<S.length;e++)S[e].addEventListener("click",function(e){if(50<=Math.abs(v))return e.preventDefault(),!1;x(t,!0),this.blur()},!0)},N=0;N<p;N++){var S;I(N)}function Y(e){if(e){var t=l.children[e],n=O(t,l).x;return-n+t.offsetWidth/2}return u}function z(e){for(var t=0,n=0;e;){if("BODY"==e.tagName){var o=e.scrollLeft||document.documentElement.scrollLeft,r=e.scrollTop||document.documentElement.scrollTop;t+=e.offsetLeft-o+e.clientLeft,n+=e.offsetTop-r+e.clientTop}else t+=e.offsetLeft-e.scrollLeft+e.clientLeft,n+=e.offsetTop-e.scrollTop+e.clientTop;e=e.offsetParent}return{x:t,y:n}}function O(e,t){var n=z(t),o=z(e);return{x:o.x-n.x,y:o.y-n.y}}return o&&o.addEventListener("click",function(e){w(u)&&b(u+c)},!0),r&&r.addEventListener("click",function(e){w(u)&&b(u-c)},!0),{selectItem:x}}};